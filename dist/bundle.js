(()=>{"use strict";var e;!function(e){e[e.Punc=0]="Punc",e[e.Kw=1]="Kw",e[e.Op=2]="Op",e[e.Ident=3]="Ident",e[e.Type=4]="Type",e[e.Num=5]="Num",e[e.String=6]="String",e[e.Comment=7]="Comment",e[e.Unknown=8]="Unknown"}(e||(e={}));var n=function(){function e(e){this.source=e,this.pos=0}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.pos>=this.source.length},enumerable:!1,configurable:!0}),e.prototype.pop=function(){return this.source[this.pos++]},e.prototype.peek=function(){return this.source[this.pos]},e.prototype.popWhile=function(e){for(;e(this.source[this.pos]);)this.pos++},e.prototype.eatString=function(){for(var e=!1;!this.isDone;){var n=this.peek();if("\\"!=n||e){if('"'==n&&!e)return void this.pop();if("\n"===n||"\r"===n)return;e=!1,this.pop()}else e=!0,this.pop()}},e.prototype.eatInlineComment=function(){this.popWhile((function(e){return!"\n\r".includes(e)}))},e.prototype.eatWhitespace=function(){this.popWhile(t)},e.prototype.eatNumber=function(){this.popWhile(i)},e}();function t(e){return" \t\r\n".includes(e)}function i(e){return"0"<=e&&e<="9"}function r(e){return"+-*/:<>$@!=.~".includes(e)}function o(e){return"a"<=e&&e<="z"||"_"===e}function u(e){return"A"<=e&&e<="Z"}function p(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"0"<=e&&e<="9"||"_"===e}var s=["case","of","class","data","instance","default","deriving","do","forall","hiding","if","then","else","import","infix","infixl","infixr","let","in","module","newtype","qualified","as","type","where"];function a(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||c.includes(e)}var c="+-*/<>=!$^&:?#";function l(e){return a(e)||i(e)}var f=["define","lambda","if","let","let*","match","else","#lang","#t","#f","require","`",",",",@"];[{name:"haskell",lexer:function(a){for(var c=[],l=new n(a);!l.isDone;){var f=l.pos,m=void 0,h=l.pop();"[]()".includes(h)?m=e.Punc:'"'===h?(l.eatString(),m=e.String):"-"===h&&"-"===l.peek()?(l.eatInlineComment(),m=e.Comment):r(h)?(l.popWhile(r),m=e.Op):t(h)?l.eatWhitespace():o(h)?(l.popWhile(p),m=e.Ident):u(h)?(l.popWhile(p),m=e.Type):i(h)?(l.eatNumber(),m=e.Num):m=e.Unknown;var d=a.slice(f,l.pos);s.includes(d)&&(m=e.Kw),c.push({text:d,className:m})}return c}},{name:"racket",lexer:function(r){for(var o=[],u=new n(r);!u.isDone;){var p=u.pos,s=void 0,c=u.pop();"()[]".includes(c)?s=e.Punc:";"===c?(u.eatInlineComment(),s=e.Comment):'"'===c?(u.eatString(),s=e.String):a(c)?(u.popWhile(l),s=e.Ident):i(c)?(u.eatNumber(),s=e.Num):t(c)?u.eatWhitespace():s=e.Unknown;var m=r.slice(p,u.pos);f.includes(m)&&(s=e.Kw),o.push({text:m,className:s})}return o}}].forEach((function(n){return function(n,t){for(var i=document.getElementsByClassName("hl-"+n),r=function(n){var r=i[n];if("CODE"===r.nodeName&&r.firstChild&&r.firstChild.nodeType===Node.TEXT_NODE){var o=r.innerText,u=t(o.trim()).map((function(n){if(n.className){var t=document.createElement("span");return t.classList.add(function(n){var t;return(t={},t[e.Punc]="punc",t[e.Kw]="kw",t[e.Op]="op",t[e.Ident]="ident",t[e.Type]="type",t[e.Num]="num",t[e.String]="string",t[e.Comment]="comment",t[e.Unknown]="unknown",t)[n]}(n.className)),t.innerText=n.text,t}return document.createTextNode(n.text)}));r.innerHTML="",u.forEach((function(e){return r.appendChild(e)}))}},o=0;o<i.length;o++)r(o)}(n.name,n.lexer)}))})();